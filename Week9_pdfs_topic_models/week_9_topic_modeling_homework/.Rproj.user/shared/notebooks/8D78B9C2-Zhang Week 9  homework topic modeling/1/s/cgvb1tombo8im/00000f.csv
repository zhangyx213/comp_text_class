"0","# Step 2: Combine data"
"0","topic_data1 <- data.frame(theta_aligned, ny = textdata_filtered$ny)"
"0",""
"0","# Step 3: Aggregate data"
"0","topic_proportion_per_year1 <- aggregate(. ~ ny, data = topic_data1, FUN = mean)"
"0",""
"0",""
"0","# get mean topic proportions per decade"
"0","# topic_proportion_per_decade <- aggregate(theta, by = list(decade = textdata$decade), mean)"
"0","# set topic names to aggregated columns"
"0","colnames(topic_proportion_per_year1)[2:(K+1)] <- topicNames"
"0","# reshape data frame"
"0","vizDataFrame1 <- melt(topic_proportion_per_year1, id.vars = ""ny"")"
"0",""
"0","# #filter out 1960 - one article"
"0","vizDataFrame1 <- vizDataFrame1 "
"0","   #filter(!decade==1960)"
