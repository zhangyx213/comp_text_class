"0","# First add a unique identifier to combined"
"0","combined <- combined |>"
"0","  mutate(doc_id = paste0(filename, ""_"", row_number()))"
"0",""
"0","# First, create a lookup dataframe from your original combined data"
"0","lookup_df <- combined |>"
"0","  select(doc_id, candidate) |>"
"0","  distinct()"
"0",""
"0","my_tokens <- tokens(my_corpus)"
"0",""
"0","# Now modify your KWIC analysis to join with this lookup"
"0","quanteda_test <- kwic(my_tokens, pattern = ""media"", valuetype = ""regex"") |> "
"0","  as.data.frame() |>"
"0","  # Extract the filename part before the underscore and row number"
"0","  mutate(doc_id = docname) |>"
"0","  left_join(lookup_df, by = ""doc_id"")"
"0",""
