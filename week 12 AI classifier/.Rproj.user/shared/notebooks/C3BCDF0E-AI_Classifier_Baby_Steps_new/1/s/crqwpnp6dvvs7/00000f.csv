"0","# Update system prompt to request the specific format you want"
"0","chat <- chat_gemini("
"0","  system_prompt = ""You are an academic researcher performing context analysis on selected Newsweek articles. Analyze each article and classify it based on these criteria:"
"0","  "
"0","  1. If an article contains two or more mentions of President Richard Nixon, classify it as 'nixon'"
"0","  2. If an article contains two or more mentions the Vietnam War, classify it as 'vietnam'"
"0",""
"0","  Return ONLY a CSV-formatted result with exactly two columns:"
"0","  filename,category"
"0","  "
"0","  For example:"
"0","  filename,category"
"0","  article1.txt,nixon"
"0","  article2.txt,vietnam"
"0","  article3.txt,nixon;vietnam"
"0","  "
"0","  No additional text, explanations, or summary counts."""
"0",")"
"2","[38;5;232mUsing [32mmodel[38;5;232m = [34m""gemini-2.0-flash""[38;5;232m.[39m"
"0","# Send to the LLM"
"0","response <- chat$chat(combined_text_with_filenames)"
"1","```csv"
"1","
"
"1","filename,category"
"1","
"
"1","batch1_10_page0.txt,vietnam"
"1","
"
"1","batch1_1_page0.txt,"
"1","
"
"1","batch1_2_page0.txt,vietnam;nixon"
"1","
"
"1","batch1_3_page0.txt,vietnam;nixon"
"1","
"
"1","batch1_4_page0.txt,vietnam"
"1","
"
"1","batch1_5_page0.txt,nixon"
"1","
"
"1","batch1_6_page0.txt,"
"1","
"
"1","batch1_7_page0.txt,"
"1","
"
"1","batch1_8_page0.txt,nixon"
"1","
"
"1","batch1_9_page0.txt,"
"1","
"
"1","batch1_11_page0.txt,"
"1","
"
"1","```"
"1","
"
