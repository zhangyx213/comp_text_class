"0","write_combined_files <- function(file_list, file_paths, output_file, width = 60) {"
"0","  # Open connection to output file"
"0","  con <- file(output_file, ""w"")"
"0","  "
"0","  # Loop through each file"
"0","  for (i in seq_along(file_list)) {"
"0","    # Extract just the filename from the path"
"0","    filename <- basename(file_paths[i])"
"0","    "
"0","    # Write the separator with filename"
"0","    writeLines(paste0(""=== FILE: "", filename, "" ===""), con)"
"0","    "
"0","    # Get the content of the file"
"0","    content <- file_list[[i]]"
"0","    "
"0","    # Process each line to wrap text at the specified width"
"0","    for (line in content) {"
"0","      # Skip empty lines"
"0","      if (nchar(line) == 0) {"
"0","        writeLines("""", con)"
"0","        next"
"0","      }"
"0","      "
"0","      # If the line is shorter than width, write it as is"
"0","      if (nchar(line) <= width) {"
"0","        writeLines(line, con)"
"0","      } else {"
"0","        # Split the line into words"
"0","        words <- unlist(strsplit(line, ""\\s+""))"
"0","        current_line <- """""
"0","        "
"0","        # Rebuild the line word by word"
"0","        for (word in words) {"
"0","          # If adding this word would exceed the width"
"0","          if (nchar(current_line) + nchar(word) + 1 > width && nchar(current_line) > 0) {"
"0","            # Write the current line and start a new one"
"0","            writeLines(current_line, con)"
"0","            current_line <- word"
"0","          } else if (nchar(current_line) == 0) {"
"0","            # Start with this word"
"0","            current_line <- word"
"0","          } else {"
"0","            # Add the word to the current line"
"0","            current_line <- paste(current_line, word)"
"0","          }"
"0","        }"
"0","        "
"0","        # Write the last line if there's anything left"
"0","        if (nchar(current_line) > 0) {"
"0","          writeLines(current_line, con)"
"0","        }"
"0","      }"
"0","    }"
"0","    "
"0","    # Add a blank line between files (except after the last file)"
"0","    if (i < length(file_list)) {"
"0","      writeLines("""", con)"
"0","    }"
"0","  }"
"0","  "
"0","  # Close the connection"
"0","  close(con)"
"0","  "
"0","  # Return a message"
"0","  message(paste(""Successfully wrote"", length(file_list), ""files to"", output_file))"
"0","}"
"0","write_combined_files(nixon_list, file_paths1, ""combined_nixon_files.txt"")"
"2","Successfully wrote 4 files to combined_nixon_files.txt
"
