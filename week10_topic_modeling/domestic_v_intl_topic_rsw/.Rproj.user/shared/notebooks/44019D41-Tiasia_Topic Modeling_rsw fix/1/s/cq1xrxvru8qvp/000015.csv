"0","textdata <- dei_articles |>  "
"0","  mutate(international = case_when("
"0","    publication_location == ""International"" ~ ""INTL"","
"0","    publication_location != ""International"" ~ ""US"","
"0","     TRUE ~ NA_character_"
"0","  )) |> "
"0","  select(filename, sentence, published_date, publication_location, international) |> "
"0","  as.data.frame() %>% "
"0","  rename(doc_id = filename, text= sentence)"
"0",""
"0","# load stopwords"
"0","english_stopwords <- readLines(""https://slcladal.github.io/resources/stopwords_en.txt"", encoding = ""UTF-8"")"
"0","# create corpus object"
"0","corpus <- Corpus(DataframeSource(textdata))"
"0","# Preprocessing chain"
"0","processedCorpus <- tm_map(corpus, content_transformer(tolower))"
"0","processedCorpus <- tm_map(processedCorpus, removeWords, english_stopwords)"
"0","processedCorpus <- tm_map(processedCorpus, removePunctuation, preserve_intra_word_dashes = TRUE)"
"0","processedCorpus <- tm_map(processedCorpus, removeNumbers)"
"0","processedCorpus <- tm_map(processedCorpus, stemDocument, language = ""en"")"
"0","processedCorpus <- tm_map(processedCorpus, stripWhitespace)"
