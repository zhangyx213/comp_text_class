"0","#Strips out unique file name from article index "
"0","kwic_results <- kwic_results |>  "
"0","    mutate(matchrow = str_extract(docname, ""^[^_]+[^_]+""))"
"0",""
"0","metadata <- index"
"0",""
"0","# Join KWIC results with metadata "
"0","metadata$file_id <- as.character(metadata$file_id)"
"0",""
"0","kwic_with_metadata <- kwic_results %>%"
"0","  inner_join(metadata, by = c(""matchrow""=""file_id"")) |> "
"0","  distinct(docname, .keep_all= TRUE) |> "
"0","  select(matchrow, title, published_date, publication_location, publication, publication_type_1, length, section, word_count, countries, byline, agg_copyright, cite, company, headline, hlead, pub_copyright, show, term, ticker, from, to, pre, keyword, post, pattern, docname)"
"0",""
