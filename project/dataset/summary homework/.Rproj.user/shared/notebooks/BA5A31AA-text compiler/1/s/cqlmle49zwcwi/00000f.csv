"0","#This creates an index with the file path to the stories. And then it compiles the stories into a dataframe"
"0","#####################"
"0","# Begin SM Code #####"
"0","#####################"
"0",""
"0","###"
"0","# List out text files that match pattern .txt, create DF"
"0","###"
"0",""
"0","#Adjust thisline for your file name"
"0","files <- list.files(""./us_files_raw_text"", pattern=""*.txt"") %>% "
"0","  as.data.frame() |> "
"0","  rename(filename = 1) |> "
"0","  #create an matching file name"
"0","  mutate(index = str_replace_all(filename, "".txt"", """")) %>%"
"0","  mutate(index = tolower(gsub(""[[:punct:][:space:]|]"", """", index))) |> "
"0","  mutate(index = tolower(index)) |> "
"0","  mutate(index = str_sub(index, 1, 25)) |> "
"0","  distinct(index, .keep_all = TRUE)"
"0",""
"0",""
"0","#Join the file list to the index"
"0",""
"0","final_data <- rio::import(""Results list us.XLSX"") |> "
"0","  clean_names() |> "
"0","   #create an matching file name"
"0","  mutate(index = tolower(gsub(""[[:punct:][:space:]|]"", """", title))) |> "
"0","  mutate(index = tolower(index)) |> "
"0","  mutate(index = str_sub(index, 1, 25)) |> "
"0","  distinct(index, .keep_all = TRUE)"
"2","警告: Expecting logical in S1863 / R1863C19: got 'CNN NEWSROOM'"
